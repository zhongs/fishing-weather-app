# 钓鱼评分算法说明

## 算法概述

基于实际钓鱼经验和气象学原理，开发了一套科学的钓鱼条件评分系统。算法采用**加权评分制**，基础分60分，通过多项气象指标综合评估钓鱼适宜度。

## 评分体系

### 总分构成
- **基础分**：60分
- **最高分**：100分
- **最低分**：0分

### 评分等级

| 分数区间 | 等级 | 建议 | 颜色标识 |
|---------|------|------|---------|
| 80-100分 | 优秀 | 非常适合钓鱼！ | 🟢 绿色 |
| 60-79分 | 良好 | 比较适合钓鱼 | 🔵 蓝色 |
| 40-59分 | 一般 | 可以钓鱼，但条件一般 | 🟡 黄色 |
| 20-39分 | 较差 | 不太适合钓鱼 | 🟠 橙色 |
| 0-19分 | 很差 | 不建议钓鱼 | 🔴 红色 |

## 评分因子详解

### 1. 温度评分（权重：25分）

温度直接影响鱼类的新陈代谢和活跃度。

| 温度范围 | 评分 | 说明 |
|---------|------|------|
| 15-25°C | +25分 | 最适宜温度，鱼类活跃度最高 |
| 10-15°C | +15分 | 温度偏低，鱼口较慢 |
| 25-30°C | +10分 | 温度偏高，建议钓深水或阴凉处 |
| <10°C | -15分 | 冬季温度，需选择向阳深水区 |
| >30°C | -20分 | 高温天气，早晚时段更适合 |

**钓鱼知识**：
- 春秋季（15-20°C）是钓鱼黄金季节
- 夏季高温需避开正午，选择早晚
- 冬季水温低，鱼活动少，需用腥饵诱鱼

### 2. 气压评分（权重：20分）⭐

气压是影响鱼口的关键因素，重要性仅次于温度。

| 气压范围 | 评分 | 说明 |
|---------|------|------|
| 1005-1020 hPa | +20分 | 气压稳定适中，鱼开口好 |
| >1020 hPa | +10分 | 高气压，鱼在水底，建议钓底 |
| 995-1005 hPa | -5分 | 气压偏低，鱼口一般 |
| <995 或 >1025 hPa | -15分 | 气压异常，鱼不爱咬钩 |

**钓鱼知识**：
- **气压稳定**比绝对值更重要
- **气压下降**时（下雨前）：鱼感到缺氧，浮到水面觅食，是好时机
- **气压上升**时（雨后转晴）：鱼感到舒适，但咬钩积极性下降
- **气压骤变**时：鱼不适应，基本不开口

### 3. 风力评分（权重：15分）

风力影响水中溶氧量和钓鱼操作。

| 风速范围 (m/s) | 评分 | 说明 |
|---------------|------|------|
| 0.5-2 | +15分 | 微风，增加溶氧，鱼活跃 |
| 2-4 | +10分 | 适中，可选择下风口作钓 |
| 4-6 | -5分 | 较大，影响抛竿准确性 |
| >6 | -20分 | 过大，影响抛竿和观漂 |
| <0.5 | +5分 | 无风，浮漂信号清晰 |

**钓鱼知识**：
- **1-3级风**（0.3-5.4 m/s）最佳，微风增氧，吹动饵料气味
- **下风口**食物多，鱼聚集，是好钓位
- **大风天**（4级以上）不建议出钓，安全第一

### 4. 天气现象评分（权重：20分）

不同天气对鱼类行为影响显著。

| 天气类型 | 评分 | 说明 |
|---------|------|------|
| 小雨/毛毛雨 | +20分 | ⭐ 绝佳！增加溶氧，鱼觅食积极 |
| 阴天 | +15分 | ⭐ 很好！光线柔和，鱼胆子大 |
| 多云 | +10分 | 较好，云层遮挡阳光 |
| 晴天 | 0分 | 一般，光线强，需选浑水或背阴 |
| 中雨 | -10分 | 影响视线，雨停前后可钓 |
| 大雨/暴雨 | -30分 | 水浑鱼惊，建议雨后再来 |
| 雷电 | -50分 | ⚠️ 危险！严禁钓鱼！ |
| 降雪 | -20分 | 温度低，鱼口差 |
| 雾/霾 | -5分 | 能见度低，影响观漂 |

**钓鱼知识**：
- **小雨天**是最佳钓鱼天气之一：
  - 雨水带来氧气和食物
  - 水面波动掩盖人影
  - 鱼类觅食欲望强
- **阴天**比晴天好：
  - 光线弱，鱼警惕性低
  - 鱼胆子大，更易上钩
- **雨后转晴**也是好时机：
  - 水中溶氧高
  - 鱼类活跃

### 5. 湿度评分（权重：10分）

湿度影响舒适度和可能的降水。

| 湿度范围 | 评分 | 说明 |
|---------|------|------|
| 70-90% | +10分 | 适宜，舒适度高 |
| >90% | +5分 | 很高，可能下雨前兆，鱼活跃 |
| <50% | -5分 | 偏低，注意补水防晒 |

### 6. 时段建议（不计分）

根据一天中不同时段，给出针对性建议：

- **早晨 5-9点**：⭐ 黄金时段！鱼类觅食高峰
- **中午 11-15点**：可钓深水或阴凉处
- **傍晚 16-19点**：⭐ 黄金时段！鱼类觅食高峰
- **夜间**：适合钓鲶鱼等夜行性鱼类

## 实例分析

### 案例1：理想钓鱼天气
```json
{
  "temp": 18,      // 温度适宜 +25分
  "pressure": 1013, // 气压稳定 +20分
  "windSpeed": 1.5, // 微风 +15分
  "weather": "小雨", // 小雨 +20分
  "humidity": 85    // 湿度适宜 +10分
}
```
**总分**：60（基础）+ 25 + 20 + 15 + 20 + 10 = **150分** → 限制为 **100分**  
**评级**：优秀 🟢  
**建议**：非常适合钓鱼！多项有利条件叠加，成功率高

### 案例2：你提供的数据（2025-11-06 武汉黄陂）
```json
{
  "temp": 16,        // 温度适宜 +25分
  "pressure": 1013,   // 气压稳定 +20分
  "windSpeed": 1.67,  // 微风 (6km/h) +15分
  "weather": "阴",    // 阴天 +15分
  "humidity": 98      // 湿度偏高 +5分
}
```
**总分**：60 + 25 + 20 + 15 + 15 + 5 = **140分** → 限制为 **100分**  
**评级**：优秀 🟢  
**建议**：非常适合钓鱼！温度、气压、风力、天气都很理想

### 案例3：不适合钓鱼
```json
{
  "temp": 35,       // 高温 -20分
  "pressure": 985,   // 气压低 -15分
  "windSpeed": 8,    // 大风 -20分
  "weather": "暴雨", // 暴雨 -30分
  "humidity": 95     // 湿度高 +5分
}
```
**总分**：60 - 20 - 15 - 20 - 30 + 5 = **-20分** → 限制为 **0分**  
**评级**：很差 🔴  
**建议**：不建议钓鱼

## 算法优势

1. ✅ **科学性**：基于气象学和鱼类行为学
2. ✅ **权重分配**：突出关键因素（温度、气压、天气）
3. ✅ **实用性**：提供具体的钓位、钓法、饵料建议
4. ✅ **时效性**：考虑一天中的不同时段
5. ✅ **安全性**：雷电等危险天气严格警示
6. ✅ **Emoji标识**：直观易懂，提升用户体验

## 未来优化方向

1. **气压趋势**：增加气压变化趋势分析（上升/下降）
2. **季节因素**：根据季节调整温度权重
3. **鱼种偏好**：不同鱼种的最佳条件不同
4. **历史数据**：结合历史钓获数据优化算法
5. **潮汐因素**：海钓需考虑潮汐影响
6. **月相影响**：满月/新月对鱼类活动的影响

## 参考资料

- 《中国淡水鱼类生态学》
- 《钓鱼百科全书》
- 气象学基础知识
- 实际钓鱼经验总结
